<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1586px" preserveAspectRatio="none" style="width:1131px;height:1586px;" version="1.1" viewBox="0 0 1131 1586" width="1131px" zoomAndPan="magnify"><defs><filter height="300%" id="f15dr03gh7b2hx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#888888" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="644" x="246.5" y="12.9951">Тема проекта: Загрузка, хранение и анализ публично доступной информации</text><rect fill="#DDDDDD" height="808.5469" rx="5" ry="5" style="stroke: #000000; stroke-width: 1.0;" width="665" x="8" y="24.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="42.292"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="517" x="14" y="58.5889">Я решил создать проект - основу для построения хранения и анализа</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="219" x="14" y="74.8857">общедоступной информации</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="627" x="14" y="91.1826">Для примера взял rest api погоды (либо вики-стримы или информация по вакансиям)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="107.4795"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="521" x="14" y="123.7764">Цель проекта - построить максимально недорогую открытую систему</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="512" x="14" y="140.0732">для приема, хранения и анализа любой общедоступной информации</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="381" x="14" y="156.3701">из открытых (а, возможно, и закрытых) источников</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="172.667"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="653" x="14" y="188.9639">Компоненты и решения, ввиду ограниченного срока разработки, я решил использовать</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="299" x="14" y="205.2607">классические и известные мне с курсов.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="221.5576"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="534" x="14" y="237.8545">Система должна основываться на свободных, желательно open-source,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="581" x="14" y="254.1514">в крайнем случае недорогих, но эффективных и распространенных решениях.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="270.4482"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="505" x="14" y="286.7451">Система должна быть способна к расширению и масштабированию</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="524" x="30" y="303.042">- Масштабирование обеспечивается возможностью масштабирования</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="38" y="319.3389">испльзуемых компонентов</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="400" x="30" y="335.6357">- Расширение (добавление новых источников данных)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="486" x="38" y="351.9326">обеспечивается наличием различных коннекторов в StreamSets и</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="307" x="38" y="368.2295">якорной моделью DWH серебряного слоя</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="384.5264"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="536" x="14" y="400.8232">- Загрузка данных и управление заданиями обеспечивается при помощи</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="554" y="400.8232">StreamSets</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="500" x="30" y="417.1201">StreamSets обеспечивает загрузку данных с различных источников,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="30" y="433.417">выгрузку их в хранилище,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="349" x="30" y="449.7139">а также работает как планировщик процессов</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="269" x="14" y="466.0107">- NoSql для хранения сырых данных -</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="287" y="466.0107">apache hive</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="14" y="482.3076">- Возможно,</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="108" y="482.3076">spark+scala</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="321" x="208" y="482.3076">для парсинга json и параллельной загрузки</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="291" x="22" y="498.6045">сырых данных в DWH серебряного слоя</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="264" x="14" y="514.9014">- RDBMS для якорной модели DWH -</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="282" y="514.9014">Vertica</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="538" x="22" y="531.1982">Решение, быть может, не полностью укладывается в рамки open-source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="456" x="22" y="547.4951">и lowcost, но начальное решение до 1ТиБ бесплатное и, если</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="564" x="22" y="563.792">организовать партицирование по году и предыдущие года просто удалять,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="517" x="22" y="580.0889">оставляя только какую-то конечную аналитику (группировка по году),</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="497" x="22" y="596.3857">то можно уложиться в бесплатный размер, сохраняя возможность</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="522" x="22" y="612.6826">масштабирования, откузоустойчивость и возможность в любое время</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="423" x="22" y="628.9795">отменить удаление старых партиций и заново загрузить</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="320" x="22" y="645.2764">сырые данные из бронзового уровня (Hive).</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="661.5732"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="551" x="14" y="677.8701">При создании системы я старался придерживаться некоторых идеологий</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="510" x="14" y="694.167">DevOps, в частности, All As A Code, что потом очень хорошо ложится</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="544" x="14" y="710.4639">в любую VCS вроде git, поэтому описание проекта, схема и документация</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="14" y="726.7607">в asciidoc+plantuml.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="743.0576"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="562" x="14" y="759.3545">При создании проекта, опять же из-за ограниченного времени разработки,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="498" x="14" y="775.6514">я скорее всего не буду полностью реализовывать всю систему для</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="524" x="14" y="791.9482">всей загружаемой информации, а построю какой-то один бизнес-кейс</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="452" x="14" y="808.2451">для примера. Скажем, анализ среднесуточной температуры.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="824.542"/><!--cluster frame_dlstor--><rect fill="#FFFFFF" filter="url(#f15dr03gh7b2hx)" height="617.5" style="stroke: #000000; stroke-width: 1.5;" width="702" x="14" y="958.3438"/><path d="M143,959.3438 L143,983.9375 L133,993.9375 L14,993.9375 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="29.5" y="972.3389">Хранилище</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="17" y="988.6357">типа Data Lake</text><!--cluster frame_dlstor_dm--><rect fill="#FFD700" filter="url(#f15dr03gh7b2hx)" height="132.5" style="stroke: #000000; stroke-width: 1.5;" width="668" x="40" y="1435.3438"/><path d="M121,1436.3438 L121,1444.6406 L111,1454.6406 L40,1454.6406 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="43" y="1449.3389">Витрины</text><!--cluster views_dm--><rect fill="#FFD700" filter="url(#f15dr03gh7b2hx)" height="81" style="stroke: #000000; stroke-width: 1.5;" width="417" x="283" y="1462.3438"/><path d="M420,1463.3438 L420,1471.6406 L410,1481.6406 L283,1481.6406 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="286" y="1476.3389">Представления</text><!--cluster frame_dlstor_stage--><rect fill="#90EE90" filter="url(#f15dr03gh7b2hx)" height="167.5" style="stroke: #000000; stroke-width: 1.5;" width="686" x="22" y="1245.3438"/><path d="M221,1246.3438 L221,1254.6406 L211,1264.6406 L22,1264.6406 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189" x="25" y="1259.3389">Обработанные данные</text><!--cluster db_stage--><path d="M403,1282.3438 C403,1272.3438 551.5,1272.3438 551.5,1272.3438 C551.5,1272.3438 700,1272.3438 700,1282.3438 L700,1374.3438 C700,1384.3438 551.5,1384.3438 551.5,1384.3438 C551.5,1384.3438 403,1384.3438 403,1374.3438 L403,1282.3438 " fill="#FFC0CB" filter="url(#f15dr03gh7b2hx)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M403,1282.3438 C403,1292.3438 551.5,1292.3438 551.5,1292.3438 C551.5,1292.3438 700,1292.3438 700,1282.3438 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="484" y="1307.3389">Реляционная БД</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="523.5" y="1323.6357">Vertica</text><!--cluster frame_dlstor_raw--><rect fill="#D3D3D3" filter="url(#f15dr03gh7b2hx)" height="236" style="stroke: #000000; stroke-width: 1.5;" width="240" x="468" y="1001.3438"/><path d="M603,1002.3438 L603,1010.6406 L593,1020.6406 L468,1020.6406 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="471" y="1015.3389">Сырые данные</text><!--cluster db_raw--><path d="M487,1143.3438 C487,1133.3438 587.5,1133.3438 587.5,1133.3438 C587.5,1133.3438 688,1133.3438 688,1143.3438 L688,1219.3438 C688,1229.3438 587.5,1229.3438 587.5,1229.3438 C587.5,1229.3438 487,1229.3438 487,1219.3438 L487,1143.3438 " fill="#FFC0CB" filter="url(#f15dr03gh7b2hx)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M487,1143.3438 C487,1153.3438 587.5,1153.3438 587.5,1153.3438 C587.5,1153.3438 688,1153.3438 688,1143.3438 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="509.5" y="1168.3389">NoSql БД Типа Hive</text><!--entity cloud_source--><path d="M513.8533,886.7295 C517.0521,880.8062 522.6939,880.1005 526.8979,885.5796 C530.612,879.9293 534.9812,878.0896 539.9022,884.2509 C544.2196,879.8171 547.6713,880.2151 550.9297,885.4576 C554.6819,877.2239 559.2649,877.3121 564.9577,883.5805 C569.1458,877.0138 573.5123,877.4466 577.438,883.8332 C579.3975,877.8499 584.6098,877.8188 588.1926,882.1389 C593.7838,877.1216 598.5571,876.6278 601.8156,884.5876 C605.6362,879.0259 609.9795,879.197 614.0068,884.3524 C618.0437,879.8918 622.3074,879.782 625.5342,885.2892 C629.1982,878.3601 635.5159,879.5143 638.937,885.5406 C643.1672,878.6952 649.2806,880.1194 652.1554,886.8593 C656.2631,880.8101 660.5598,880.1334 664.9479,886.572 C671.6167,889.7713 674.2557,897.0654 666.772,901.944 C672.6556,907.3039 671.7229,912.7431 664.6451,916.1645 C660.394,921.8822 655.4902,923.7985 650.9055,916.5171 C648.0822,922.5916 644.083,923.4722 639.6943,918.0426 C635.887,925.6257 631.269,925.7722 625.8973,919.6132 C622.3225,923.9664 617.7172,923.5956 615.0733,918.542 C612.1687,925.7659 605.7903,925.0258 602.1337,919.293 C598.1683,925.9203 593.303,926.5239 588.1241,920.6534 C584.8702,926.4528 579.221,925.8909 576.1322,920.4769 C572.3748,926.0501 567.4403,924.8901 564.7193,919.4069 C560.4581,925.1284 555.3121,925.3464 551.2121,919.2231 C546.3398,923.9761 542.7166,923.4949 539.1624,917.7152 C535.7245,923.5161 529.2819,924.0661 525.5959,917.9988 C522.7637,922.6781 517.7033,922.4813 515.1077,917.7356 C504.9415,917.1734 499.9029,909.9869 506.4525,900.8543 C502.5276,893.2174 504.8323,887.5835 513.8533,886.7295 " fill="#ADD8E6" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="520" y="905.3389">Источник (rest API)</text><!--entity batch_dm_refresh--><rect fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" height="94.8906" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="48" y="1464.8438"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="236" y="1469.8438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="234" y="1471.8438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="234" y="1475.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="63" y="1497.8389">Batch</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="255" y1="1501.1406" y2="1501.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="69" y="1518.1357">Обновление отчетов</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="49" x2="255" y1="1525.4375" y2="1525.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="69" y="1542.4326">Периодичность:</text><!--entity report_1--><rect fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="491.5" y="1489.3438"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="636.5" y="1494.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="634.5" y="1496.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="634.5" y="1500.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="506.5" y="1522.3389">Представление1</text><!--entity report_2--><rect fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="291.5" y="1489.3438"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="436.5" y="1494.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="434.5" y="1496.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="434.5" y="1500.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="306.5" y="1522.3389">Представление2</text><!--entity batch_stage_refresh--><rect fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" height="103.1875" style="stroke: #A80036; stroke-width: 1.5;" width="346" x="30" y="1301.8438"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="356" y="1306.8438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="354" y="1308.8438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="354" y="1312.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220" x="45" y="1334.8389">StreamSets + Spark + scala</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="375" y1="1338.1406" y2="1338.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="51" y="1355.1357">PipeLine SilverLayer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="51" y="1371.4326">Batch: spark + scala</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="294" x="51" y="1387.7295">Оперативное обновление stage-данных</text><!--entity anchor_model_dwh--><rect fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="411.5" y="1330.3438"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="636.5" y="1335.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="634.5" y="1337.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="634.5" y="1341.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="205" x="426.5" y="1363.3389">Якорная модель хранилища</text><!--entity batch_raw_load--><rect fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" height="86.8906" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="476" y="1028.3438"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="680" y="1033.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="678" y="1035.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="678" y="1039.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="491" y="1061.3389">StreamSets</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="477" x2="699" y1="1064.6406" y2="1064.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="497" y="1081.6357">PipeLine BronzeLayer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="172" x="497" y="1097.9326">Загрузка сырых данных</text><!--entity raw_data--><rect fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="495" y="1175.3438"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="625" y="1180.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="623" y="1182.3438"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="623" y="1186.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="510" y="1208.3389">Сырые данные</text><path d="M706,880.3438 L706,920.6094 L980,920.6094 L980,890.3438 L970,880.3438 L706,880.3438 " fill="#FBFB77" filter="url(#f15dr03gh7b2hx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M970,880.3438 L970,890.3438 L980,890.3438 L970,880.3438 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="712" y="897.4106">Внешние данные</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="712" y="912.5435">с какого-либо публичного источника</text><!--entity extuser--><ellipse cx="1067" cy="860.3438" fill="#FEFECE" filter="url(#f15dr03gh7b2hx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1067,868.3438 L1067,895.3438 M1054,876.3438 L1080,876.3438 M1067,895.3438 L1054,910.3438 M1067,895.3438 L1080,910.3438 " fill="none" filter="url(#f15dr03gh7b2hx)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1015" y="930.3389">Внешний</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1015" y="946.6357">Пользователь</text><!--link cloud_source to GMN7--><path d="M671.1738,900.3438 C682.696,900.3438 694.2182,900.3438 705.7404,900.3438 " fill="none" id="cloud_source-GMN7" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--link cloud_source to batch_raw_load--><path d="M588,923.4731 C588,948.9017 588,990.4844 588,1023.168 " fill="none" id="cloud_source-&gt;batch_raw_load" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="588,1028.3333,592,1019.3333,588,1023.3333,584,1019.3333,588,1028.3333" style="stroke: #A80036; stroke-width: 1.0;"/><!--link batch_raw_load to db_raw--><path d="M648.8906,1115.6839 C651.5271,1118.4395 654.0551,1121.295 656.4236,1124.2413 C657.6079,1125.7144 658.7523,1127.2103 659.8505,1128.7277 C660.3996,1129.4864 660.9371,1130.2506 661.4623,1131.02 C661.7249,1131.4047 661.9844,1131.7907 662.2407,1132.178 C662.3689,1132.3716 662.4962,1132.5656 662.6228,1132.7599 C662.6861,1132.857 662.7491,1132.9543 662.812,1133.0516 C662.8434,1133.1002 662.8748,1133.1489 662.9062,1133.1976 C662.9218,1133.222 662.9375,1133.2463 662.9531,1133.2707 " fill="none" id="batch_raw_load-&gt;db_raw" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="662.9531,1133.2707,661.456,1123.5363,660.2515,1129.0634,654.7243,1127.8589,662.9531,1133.2707" style="stroke: #A80036; stroke-width: 1.0;"/><!--link db_raw to db_stage--><path d="M682.4107,1229.4816 C682.4468,1229.9476 682.4831,1230.4171 682.5197,1230.8899 C682.6662,1232.7815 682.8168,1234.7276 682.9711,1236.7205 C683.2797,1240.7064 683.6028,1244.8794 683.9355,1249.177 C684.2682,1253.4746 684.6106,1257.8968 684.9577,1262.381 C685.1313,1264.6231 685.3061,1266.8808 685.4815,1269.1461 C685.5253,1269.7124 685.5692,1270.2792 685.6131,1270.8464 C685.6351,1271.13 685.657,1271.4136 685.679,1271.6974 C685.69,1271.8393 685.701,1271.9812 685.712,1272.1231 C685.7175,1272.194 685.723,1272.265 685.7285,1272.3359 " fill="none" id="db_raw-&gt;db_stage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="685.7285,1272.3359,689.0218,1263.054,685.3425,1267.3509,681.0457,1263.6715,685.7285,1272.3359" style="stroke: #A80036; stroke-width: 1.0;"/><!--link db_stage to views_dm--><path d="M692,1384.571 C692,1384.8082 692,1385.0462 692,1385.2852 C692,1385.7632 692,1386.2448 692,1386.7299 C692,1388.6702 692,1390.6666 692,1392.7109 C692,1396.7997 692,1401.0804 692,1405.4889 C692,1414.3059 692,1423.6341 692,1432.9602 C692,1442.2863 692,1451.6103 692,1460.4187 C692,1460.9693 692,1461.5178 692,1462.0642 " fill="none" id="db_stage-&gt;views_dm" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="692,1462.0642,696,1453.0642,692,1457.0642,688,1453.0642,692,1462.0642" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml Схема процесса

skinparam ComponentStyle uml2


centerheader
= Тема проекта: Загрузка, хранение и анализ публично доступной информации
endheader

legend top left

    Я решил создать проект - основу для построения хранения и анализа
    общедоступной информации
    Для примера взял rest api погоды (либо вики-стримы или информация по вакансиям)

    Цель проекта - построить максимально недорогую открытую систему
    для приема, хранения и анализа любой общедоступной информации
    из открытых (а, возможно, и закрытых) источников

    Компоненты и решения, ввиду ограниченного срока разработки, я решил использовать
    классические и известные мне с курсов.

    Система должна основываться на свободных, желательно open-source,
    в крайнем случае недорогих, но эффективных и распространенных решениях.

    Система должна быть способна к расширению и масштабированию
        - Масштабирование обеспечивается возможностью масштабирования
          испльзуемых компонентов
        - Расширение (добавление новых источников данных)
          обеспечивается наличием различных коннекторов в StreamSets и
          якорной моделью DWH серебряного слоя

    - Загрузка данных и управление заданиями обеспечивается при помощи **StreamSets**
        StreamSets обеспечивает загрузку данных с различных источников,
        выгрузку их в хранилище,
        а также работает как планировщик процессов
    - NoSql для хранения сырых данных - **apache hive**
    - Возможно, **spark+scala** для парсинга json и параллельной загрузки
      сырых данных в DWH серебряного слоя
    - RDBMS для якорной модели DWH - **Vertica**
      Решение, быть может, не полностью укладывается в рамки open-source
      и lowcost, но начальное решение до 1ТиБ бесплатное и, если
      организовать партицирование по году и предыдущие года просто удалять,
      оставляя только какую-то конечную аналитику (группировка по году),
      то можно уложиться в бесплатный размер, сохраняя возможность
      масштабирования, откузоустойчивость и возможность в любое время
      отменить удаление старых партиций и заново загрузить
      сырые данные из бронзового уровня (Hive).

    При создании системы я старался придерживаться некоторых идеологий
    DevOps, в частности, All As A Code, что потом очень хорошо ложится
    в любую VCS вроде git, поэтому описание проекта, схема и документация
    в asciidoc+plantuml.

    При создании проекта, опять же из-за ограниченного времени разработки,
    я скорее всего не буду полностью реализовывать всю систему для
    всей загружаемой информации, а построю какой-то один бизнес-кейс
    для примера. Скажем, анализ среднесуточной температуры.

endlegend

cloud "Источник (rest API)" as cloud_source #LightBlue {
}

note right of cloud_source
    Внешние данные
    с какого-либо публичного источника
end note

Actor "Внешний\nПользователь" as extuser

frame "Хранилище\nтипа Data Lake" as frame_dlstor {

    frame "Витрины" as frame_dlstor_dm #Gold {
        frame "Представления" as views_dm {
            component report_1 [
                Представление1
            ]
            component report_2 [
                Представление2
            ]
        }
        component batch_dm_refresh [
            **Batch**
            - - - -
            Обновление отчетов
            - - - -
            Периодичность: 
        ]
    }

    frame "Обработанные данные" as frame_dlstor_stage #LightGreen {
        database "Реляционная БД\n**Vertica**" as db_stage #Pink {
            component anchor_model_dwh [
                Якорная модель хранилища
            ]
        }
        component batch_stage_refresh [
            **StreamSets + Spark + scala**
            - - - -
            PipeLine SilverLayer
            Batch: spark + scala
            Оперативное обновление stage-данных
        ]
    }

    frame "Сырые данные" as frame_dlstor_raw #LightGray {
        database "NoSql БД Типа Hive" as db_raw #Pink {
            component raw_data [
                Сырые данные
            ]
        }
        component batch_raw_load [
            **StreamSets**
            - - - -
            PipeLine BronzeLayer
            Загрузка сырых данных
        ]
    }

    cloud_source - -> batch_raw_load
    batch_raw_load - -> db_raw

    db_raw - -> db_stage

    db_stage - -> views_dm

}
@enduml

PlantUML version 1.2019.09(Mon Aug 26 19:19:51 EEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-b08
Operating System: Linux
OS Version: 5.5.11-200.fc31.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>